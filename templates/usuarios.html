{% extends "base.html" %}
{% block title %}Usuarios{% endblock %}
{% block content %}
<h2>Gestión de Usuarios</h2>

<form method="POST" action="{{ url_for('add_usuario') }}">
  <input type="text" name="nombre" placeholder="Nombre del usuario" required>
  <button type="submit">Agregar Usuario</button>
</form>

<hr>

<h3>Listado de usuarios</h3>
<table border="1" cellpadding="5">
  <tr>
    <th>ID</th>
    <th>Nombre</th>
    <th>Acciones</th>
  </tr>
  {% for usuario in usuarios %}
  <tr>
    <td>{{ usuario.id }}</td>
    <td>{{ usuario.nombre }}</td>
    <td>
      <!-- Editar -->
      <form method="POST" action="{{ url_for('editar_usuario') }}" style="display:inline;" onsubmit="return confirm('¿Seguro que quieres modificar este usuario?');">
        <input type="hidden" name="usuario_id" value="{{ usuario.id }}">
        <input type="text" name="nuevo_nombre" placeholder="Nuevo nombre" required>
        <button type="submit">Editar</button>
      </form>

      <!-- Eliminar -->
      <form method="POST" action="{{ url_for('eliminar_usuario') }}" style="display:inline;" onsubmit="return confirm('¿Seguro que quieres eliminar este usuario?');">
        <input type="hidden" name="usuario_id" value="{{ usuario.id }}">
        <button type="submit">Eliminar</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
